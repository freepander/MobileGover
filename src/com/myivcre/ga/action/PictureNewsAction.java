package com.myivcre.ga.action;import org.springframework.context.annotation.Scope;import org.springframework.stereotype.Component;import com.myivcre.ga.model.PictureNews;import com.myivcre.ga.model.PictureNewsItem;/** * 图片新闻 * @author freepander * */@Component("pictureNewsAction")@Scope("prototype")public class PictureNewsAction extends BaseAction {	private String title;	private String img;	private String description;	private PictureNews pictureNews;	private int itemId;	public String list(){		orderby.add("id desc");		try {			this.pageModel=this.baseService.getPageModel("picturenews", pageNum, 20,orderby);		} catch (Exception e) {			// TODO Auto-generated catch block			e.printStackTrace();		}		this.pageModel.setUrl("curl/pictureNews_list?pageNum=");		return "success";	}	public String add(){		this.pictureNews=new PictureNews();		this.pictureNews.setTitle(title);		this.pictureNews.setNumber(0);		this.baseService.save(this.pictureNews);		return "list";	}	public String addItem(){		this.pictureNews=(PictureNews)this.baseService.get(PictureNews.class, id);		PictureNewsItem i=new PictureNewsItem();		i.setDescription(description);		i.setImg(img);		this.pictureNews.getItems().add(i);		this.pictureNews.setNumber(this.pictureNews.getNumber()+1);		this.baseService.save(i);		this.baseService.update(this.pictureNews);		return "itemList";	}	public String itemList(){		this.pictureNews=(PictureNews)this.baseService.get(PictureNews.class, id);		return "success";	}	public String deleteItem(){		this.pictureNews=(PictureNews)this.baseService.get(PictureNews.class, id);		PictureNewsItem i=(PictureNewsItem)this.baseService.get(PictureNewsItem.class, itemId);		this.pictureNews.getItems().remove(i);		this.pictureNews.setNumber(this.pictureNews.getNumber()-1);		this.baseService.update(this.pictureNews);		this.baseService.delete(i);		return "itemList";	}	public String delete(){		this.pictureNews=(PictureNews)this.baseService.get(PictureNews.class, id);		this.baseService.delete(this.pictureNews);		return "list";	}	public String getTitle() {		return title;	}	public void setTitle(String title) {		this.title = title;	}	public String getImg() {		return img;	}	public void setImg(String img) {		this.img = img;	}	public String getDescription() {		return description;	}	public void setDescription(String description) {		this.description = description;	}	public PictureNews getPictureNews() {		return pictureNews;	}	public void setPictureNews(PictureNews pictureNews) {		this.pictureNews = pictureNews;	}	public int getItemId() {		return itemId;	}	public void setItemId(int itemId) {		this.itemId = itemId;	}		}